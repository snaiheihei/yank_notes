# regular_expression


::: tip RE
- é€šè¿‡ä¸€äº›ç‰¹æ®Šç¬¦å·çš„è¾…ä½ï¼Œè®©ç”¨æˆ·è½»æ˜“åœ°å®Œæˆã€æŸ¥æ‰¾ï¼Œåˆ é™¤ï¼Œæ›¿æ¢ã€‘æŸç‰¹å®šå­—ç¬¦ä¸²çš„å¤„ç†è¿‡ç¨‹
- Vi ã€grepã€awkã€sedç­‰ç¨‹åºéƒ½æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼› ls cpç­‰å‘½ä»¤ä¸æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼Œåªèƒ½ä½¿ç”¨bashæœ¬èº«çš„é€šé…ç¬¦
- è¯­ç³»LANGå¯¹æ­£åˆ™è¡¨è¾¾å¼å½±å“ï¼ˆå­—ç¬¦æ’åºï¼‰
- å­—ç¬¦é›†åˆã€^ $ . \ * [list] [n1-n2] [^list] \{m,n\} ã€‘
    -  . ä»»æ„å­—ç¬¦
	- *é‡å¤å‰ä¸€ä¸ªå­—ç¬¦0-æ— ç©·
	- shellä¸­{}éœ€è¦è½¬ä¹‰
:::

::: tip grep
- grepğŸ‘»:  searches  for  PATTERNS  in  each  FILE
    - ==-i==: Ignore case distinctions in patterns and input data
    - ==-n==: æ˜¾ç¤ºè¡Œå·
    - ==-v==: åé€‰ EX: grep -v "^#" | grep -v "^$"(ä¸æ˜¾ç¤ºæ³¨é‡Šè¡Œå’Œç©ºç™½è¡Œ)
    - ==-x==: è¡Œå†…å®¹å®Œå…¨åŒ¹é…
:::


::: tip sed
-  Sed  [-nefri]  [n1[,n2]] function
	- å‚æ•°éƒ¨åˆ†
		- -n ä½¿ç”¨å®‰é™æ¨¡å¼ï¼Œåªæœ‰è¢«sedå¤„ç†æ“ä½œçš„è¡Œæ‰è¢«åˆ—å‡ºæ¥
		- -e ç›´æ¥åœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸Šè¿›è¡Œsedçš„æ“ä½œç¼–è¾‘
    -  æ“ä½œ [n1[,n2]] function 
		-  a :æ–°å¢ï¼Œåé¢å¯ä»¥æ¥å­—ç¬¦ä¸²ï¼Œä¸‹ä¸€è¡Œæ’å…¥å­—ç¬¦ sed  '2a  xxx'
		-  c :æ›¿æ¢ï¼Œåé¢å¯ä»¥æ¥å­—ç¬¦ä¸²ï¼Œæ›¿æ¢n1 n2ä¹‹é—´çš„è¡Œ  sed  '2,5c  xxx'
		-  d :åˆ é™¤ï¼Œåé¢ä¸æ¥å†…å®¹ï¼Œåˆ é™¤n1 n2ä¹‹é—´è¡Œï¼Œ sed '2,5d'
		-  i :æ’å…¥ï¼Œåé¢å¯ä»¥æ¥å­—ç¬¦ä¸²ï¼Œä¸Šä¸€è¡Œæ’å…¥  sed  '2,5i  xxx'
		-  p :æ‰“å°ï¼ˆé€‰æ‹©ï¼‰ï¼Œé€‰æ‹©æ•°æ®æ‰“å°ï¼Œ==ä¸-næ­é…==  sed  -n '2,5p'
		-  s :æ›¿æ¢ï¼Œé€šå¸¸æ­é…æ­£åˆ™è¡¨è¾¾å¼ï¼Œ 1,20s/old/new/gï¼› n1  ,n2é€‰å®šæŒ‡å®šè¡Œæ“ä½œï¼Œä¹Ÿå¯ä»¥/pattern1/,  /pattern2/é€‰æ‹©æŒ‡å®šè¡Œï¼Œæ”¯æŒæ­£åˆ™
- ![Img](./FILES/regular_expression.md/img-20220711134004.png)

:::

::: tip awk åˆ†è¡Œå¤„ç†å¤šä¸ªå­—æ®µ(å¾ªç¯å¤„ç†æ¯ä¸€è¡Œ)
-  awk  -F  x  'æ¡ä»¶ {æ“ä½œ} æ¡ä»¶{æ“ä½œ} ã€‚ã€‚ã€‚'  filename
- æ¡ä»¶ï¼šBEGIN  END   $1 >< >== num
- å†…ç½®å˜é‡ NF æ¯è¡Œ$0æ‹¥æœ‰çš„å­—æ®µæ•°ï¼›NRå½“å‰å¤„ç†çš„è¡Œå·ï¼›FSç›®å‰çš„åˆ†éš”ç¬¦
- EXğŸ‘»: cat /etc/passwd |awk -F  :  '{print "linsnum:" NR "\t  current:" $3} $3 < 10 {sum += $3} END {print sum}'

:::

::: tip æ–‡ä»¶å¯¹æ¯”å·¥å…·
-  diff  -ibB (blan space  ignore)  from_file to_file
-   cpm  ä»¥å­—èŠ‚æ¯”å¯¹ï¼Œå¯ä»¥æ¯”è¾ƒäºŒè¿›åˆ¶æ–‡ä»¶ 
-  patch å°†æ—§æ–‡ä»¶å‡çº§ä¸ºæ–°æ–‡ä»¶
    i. ç”Ÿæˆpatchæ–‡ä»¶ï¼Œ diff  -Naur  file.old  file.new > xxxx.patch
    ii. æ›´æ–°æ—§ç‰ˆæ•°æ®ï¼Œ  patch  -p0  -d work_dir   < patch_file
    iii. æ’¤é”€æ›´æ–°ï¼Œ patch  -R  -p0   < patch_file
    
:::
